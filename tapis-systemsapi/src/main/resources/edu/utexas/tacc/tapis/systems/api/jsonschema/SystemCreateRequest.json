{
  "$id": "http://tapis.tacc.utexas.edu/SystemCreateRequest",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "Schema for a system create request",
  "additionalProperties": false,

  "type": "object",
  "properties": {
    "name": { "$ref": "resource:///edu/utexas/tacc/tapis/systems/api/jsonschema/Definitions.json#/systemName" },
    "description": { "type": "string", "maxLength": 2048 },
    "systemType": { "$ref": "resource:///edu/utexas/tacc/tapis/systems/api/jsonschema/Definitions.json#/systemTypeEnum" },
    "owner": { "$ref": "resource:///edu/utexas/tacc/tapis/systems/api/jsonschema/Definitions.json#/userName" },
    "host": { "$ref": "resource:///edu/utexas/tacc/tapis/systems/api/jsonschema/Definitions.json#/hostName" },
    "available": { "type": "boolean", "default": true },
    "effectiveUserId": { "$ref": "resource:///edu/utexas/tacc/tapis/systems/api/jsonschema/Definitions.json#/userName" },
    "accessMethod": { "$ref": "resource:///edu/utexas/tacc/tapis/systems/api/jsonschema/Definitions.json#/accessMethodEnum" },
    "accessCredential": {
      "type": "object",
      "properties": {
        "password": { "type":  "string" },
        "privateKey": { "type":  "string" },
        "publicKey": { "type":  "string" },
        "certificate": { "type":  "string" },
        "accessKey": { "type":  "string" },
        "accessSecret": { "type":  "string" }
      }
    },
    "bucketName": { "type": "string", "maxLength": 63 },
    "rootDir": { "$ref": "resource:///edu/utexas/tacc/tapis/systems/api/jsonschema/Definitions.json#/dirPath" },
    "transferMethods": {
      "type": "array",
      "items": { "type": "string", "enum": ["SFTP","S3"] }
    },
    "port": { "type": "integer" },
    "useProxy": { "type": "boolean", "default": false },
    "proxyHost": { "$ref": "resource:///edu/utexas/tacc/tapis/systems/api/jsonschema/Definitions.json#/hostName" },
    "proxyPort": { "type": "integer" },
    "jobCanExec": { "type": "boolean" },
    "jobLocalWorkingDir": { "$ref": "resource:///edu/utexas/tacc/tapis/systems/api/jsonschema/Definitions.json#/dirPath" },
    "jobLocalArchiveDir": { "$ref": "resource:///edu/utexas/tacc/tapis/systems/api/jsonschema/Definitions.json#/dirPath" },
    "jobRemoteArchiveSystem": { "$ref": "resource:///edu/utexas/tacc/tapis/systems/api/jsonschema/Definitions.json#/systemName" },
    "jobRemoteArchiveDir": { "$ref": "resource:///edu/utexas/tacc/tapis/systems/api/jsonschema/Definitions.json#/dirPath" },
    "jobCapabilities": {
      "type": "array",
      "items": { "type": "string" }
    },
    "tags": { "type": "string", "default": "{}" },
    "notes": { "type": "string", "default": "{}" }
  },

  "required": [
    "name",
    "systemType",
    "host",
    "accessMethod",
    "jobCanExec"
  ]
}
